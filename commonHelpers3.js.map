{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst formEl = document.querySelector('.feedback-form');\nconst storedData = JSON.parse(localStorage.getItem('feedback-form-state'));\n\nconst formData = {\n  email: storedData?.email || '',\n  message: storedData?.message || '',\n};\n\nformEl.elements.email.value = formData.email;\nformEl.elements.message.value = formData.message;\n\nformEl.addEventListener(\n  'input',\n  throttle(event => onFormInput(event), 500)\n);\n\nformEl.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  console.log(formData);\n\n  resetForm();\n  localStorage.removeItem('feedback-form-state');\n}\n\nfunction onFormInput(event) {\n  formData[event.target.name] = event.target.value;\n\n  storeData();\n}\n\nfunction storeData() {\n  localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n}\n\nfunction resetForm() {\n  formData.email = '';\n  formData.message = '';\n\n  formEl.reset();\n}\n"],"names":["formEl","storedData","formData","throttle","event","onFormInput","onFormSubmit","resetForm","storeData"],"mappings":"wIAEA,MAAMA,EAAS,SAAS,cAAc,gBAAgB,EAChDC,EAAa,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EAEnEC,EAAW,CACf,OAAOD,GAAA,YAAAA,EAAY,QAAS,GAC5B,SAASA,GAAA,YAAAA,EAAY,UAAW,EAClC,EAEAD,EAAO,SAAS,MAAM,MAAQE,EAAS,MACvCF,EAAO,SAAS,QAAQ,MAAQE,EAAS,QAEzCF,EAAO,iBACL,QACAG,EAASC,GAASC,EAAYD,CAAK,EAAG,GAAG,CAC3C,EAEAJ,EAAO,iBAAiB,SAAUM,CAAY,EAE9C,SAASA,EAAaF,EAAO,CAC3BA,EAAM,eAAc,EAEpB,QAAQ,IAAIF,CAAQ,EAEpBK,IACA,aAAa,WAAW,qBAAqB,CAC/C,CAEA,SAASF,EAAYD,EAAO,CAC1BF,EAASE,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,MAE3CI,GACF,CAEA,SAASA,GAAY,CACnB,aAAa,QAAQ,sBAAuB,KAAK,UAAUN,CAAQ,CAAC,CACtE,CAEA,SAASK,GAAY,CACnBL,EAAS,MAAQ,GACjBA,EAAS,QAAU,GAEnBF,EAAO,MAAK,CACd"}